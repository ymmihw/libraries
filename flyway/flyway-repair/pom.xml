<?xml version="1.0"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
 <modelVersion>4.0.0</modelVersion>
 <parent>
  <groupId>com.ymmihw.libraries</groupId>
  <artifactId>flyway</artifactId>
  <version>0.0.1-SNAPSHOT</version>
 </parent>
 <groupId>com.ymmihw.libraries</groupId>
 <artifactId>flyway-repair</artifactId>
 <version>0.0.1-SNAPSHOT</version>
 <name>flyway-repair</name>
 <url>http://maven.apache.org</url>
 <properties>
  <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  <flyway.configFiles>src/main/resources/application-${spring-boot.run.profiles}.properties</flyway.configFiles>
 </properties>
 <dependencies>
  <dependency>
   <groupId>org.flywaydb</groupId>
   <artifactId>flyway-core</artifactId>
  </dependency>
  <dependency>
   <groupId>org.springframework.boot</groupId>
   <artifactId>spring-boot-starter-jdbc</artifactId>
  </dependency>
 </dependencies>
 <build>
  <plugins>
   <plugin>
    <groupId>org.flywaydb</groupId>
    <artifactId>flyway-maven-plugin</artifactId>
   </plugin>
   <plugin>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-maven-plugin</artifactId>
   </plugin>
  </plugins>
 </build>
 <profiles>
  <profile>
   <id>h2</id>
   <activation>
    <activeByDefault>true</activeByDefault>
   </activation>
   <properties>
    <spring-boot.run.profiles>h2</spring-boot.run.profiles>
   </properties>
   <dependencies>
    <dependency>
     <groupId>com.h2database</groupId>
     <artifactId>h2</artifactId>
     <scope>runtime</scope>
    </dependency>
   </dependencies>
  </profile>

  <profile>
   <id>postgres</id>
   <properties>
    <spring-boot.run.profiles>postgres</spring-boot.run.profiles>
   </properties>
   <dependencies>
    <dependency>
     <groupId>org.postgresql</groupId>
     <artifactId>postgresql</artifactId>
     <scope>runtime</scope>
    </dependency>
   </dependencies>
  </profile>

 </profiles>
</project>
